@startuml

/'Defines all the components in the diagram, including the actor.'/ 
User as user

package UI {
    component "Web UI" as web_ui
    component "Mobile App" as mobile_app
}

node "Application Server" {
    package "Service Manager"{
      component "External API" as ext
      component "Service Manager" as service_manager
      component "Service API" as api
    }

    package "Schedulers" {
        component "Text Execution Scheduler" as text_exec_scheduler
        component "Send Message Scheduler" as send_msg_scheduler
    }

    component "Deliverability Test Log Service" as dtl_service
    component "Deliverability Test Service" as dt_service
    component "Deliverability Test Phones Service" as dtp_service
    component "Report Generation Service" as rg_service
    component "Messaging Service" as messenger
    component "Authentication Service" as auth
}

cloud "Aggregator API" {
    interface "Bandwidth API" as bandwidth
}

database Database {
    skinparam componentStyle rectangle
<<<<<<< HEAD:source/microservices-component-diagram.puml
    database deliverability_test as dt
    database deliverability_test_logs as dtl
    database deliverability_test_phones as dtp
    database deliverability_test_users as dtu
=======
    component "Deliverability Test Log" as dtl
    component "Deliverability Test" as dt
    component "Deliverability Test Phones" as dtp
    component "Clients" as clients
    component "Client Logs" as cl
>>>>>>> luvai-development:src/microservices-component-diagram.puml
    skinparam componentStyle uml2
}

/'Defines the interactions between the components in the diagram.'/ 

/'Frontend Interactions'/ 
user -- web_ui
user -- mobile_app
web_ui -- ext
mobile_app -- ext

<<<<<<< HEAD:source/microservices-component-diagram.puml
/'Backend Interactions'/ 
ext -- service_manager
service_manager -- api
=======
/'Backend Interactions'/
service_manager -- listener_queue
listener_queue -- listener
listener -- service_manager
service_manager -- dt_service
service_manager -- dtl_service
service_manager -- rg_service
scheduler -- service_manager
service_manager -- messenger
service_manager -- auth
>>>>>>> luvai-development:src/microservices-component-diagram.puml

api -- text_exec_scheduler
api-- send_msg_scheduler
api -- dt_service
api -- dtl_service
api -- rg_service
api -- messenger
api -- auth
api -- dtp_service

/'Database Interactions'/ 
dtp_service -- dtp
dtl_service -- dtl
dt_service -- dt
<<<<<<< HEAD:source/microservices-component-diagram.puml
auth -- dtu
rg_service -- dt
=======
auth -- clients
auth -- cl
>>>>>>> luvai-development:src/microservices-component-diagram.puml

/'Third Party Interactions'/ 
bandwidth -- messenger

@enduml
